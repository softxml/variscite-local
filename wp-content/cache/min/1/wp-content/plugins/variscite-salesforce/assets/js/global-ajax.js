jQuery(function($){window.dataLayer=window.dataLayer||[];function validateEmail(email){var re=/^(([^<>()\[\]\\.,;:\s@"]+(\.[^<>()\[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+[a-zA-Z]{2,}))$/;return re.test(String(email).toLowerCase())}
function submitQuoteForm(formBtn,formId,actionType,isAJAX=!0){formBtn.click(function(){formBtn.parent().toggleClass('btnLoader');if(isAJAX){formBtn.attr('disabled','disabled');formBtn.prop('disabled',!0)}else{setTimeout(function(){formBtn.attr('disabled','disabled');formBtn.prop('disabled',!0)},200)}});if(isAJAX){formBtn.click(function(){var form=document.getElementById(formId);var iEle=form.querySelectorAll('input, select, checkbox, textarea');var notice=$(form).find('.notice');var checks=!1;var fldVals={};$.each(iEle,function(index,value){fldType=iEle[index].type;if(fldType=='hidden'||fldType=='text'||fldType=='textarea'){fldVals[iEle[index].id]=iEle[index].value}else if(fldType=='select-one'){fldVals[iEle[index].id]=$('#'+iEle[index].id).val()}else if(fldType=='checkbox'){if($('#'+iEle[index].id).is(':checked')){if(!fldVals[iEle[index].name]){fldVals[iEle[index].name]=''}
fldVals[iEle[index].name]+=$('#'+iEle[index].id).val()+';'}}});fldVals.curl=window.location.href;fldVals.Page_url__c=window.location.href;var reqFields=fldVals.required.split(','),fieldMessage;$(reqFields).each(function(index,value){if(value==='email'){var emailVal=$('#email').val();if(!validateEmail(emailVal)){checks=!0;fieldMessage='A Valid Email';return!1}}
if(value==='first_name'||value==='last_name'||value==='company'||value==='phone'){var nameVal=$('#first_name').val(),lnameVal=$('#last_name').val(),companyVal=$('#company').val(),phoneVal=$('#phone').val();if(nameVal===''){checks=!0;fieldMessage='First Name';return!1}
if(lnameVal===''){checks=!0;fieldMessage='Last Name';return!1}
if(companyVal===''){checks=!0;fieldMessage='Company Name';return!1}
if(phoneVal===''){checks=!0;fieldMessage='Phone Number';return!1}}
if(value==='country_code'){if($('select[name="country_code"]').val()===''){checks=!0;fieldMessage='Country';return!1}}
if(value==='country'){if($('select[name="country"]').val()===''){checks=!0;fieldMessage='Country';return!1}}
if(!fldVals[value]){checks=!0;inputid=value;fieldMessage=$('#'+inputid).attr('placeholder');return!1}});if(formId=='prodQuoteForm'){var cpuPlatform=$('div.paddons-checkbox.required :checkbox:checked').length;var cpuPlatformField=$('div.paddons-checkbox.required').length;var fields_warn="Please select Estimated Quantities";var somVals=[];var modules_warn='Please select Platform';$.each($('input[name="quote-product"]:checked'),function(){somVals.push($(this).val());fldVals['quote-product']=somVals.join(";")});if(cpuPlatformField>0&&cpuPlatform<1){$('.quote-form .notice').html('<i class="fa fa-exclamation-triangle c6"></i> '+modules_warn);checks=!0;formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader');return!1}
var amntVals=$('select[name="quote-quantity"]').val();fldVals['quote-quantity']=amntVals;if(amntVals===''){$('.quote-form .notice').html('<i class="fa fa-exclamation-triangle c6"></i> '+fields_warn);formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader');checks=!0;return!1}}
if(formId=='quoteFormWidget'){var cpuPlatform=$('#som-checkboxes :checkbox:checked').length;var cpuPlatformField=$('#som-checkboxes').length;var fields_warn="Please select Estimated Project Quantities";var somVals=[];var modules_warn='Please select SoM Platform';$.each($('input[name="System__c"]:checked'),function(){somVals.push($(this).val());fldVals.System__c=somVals.join(";")});if(cpuPlatformField>0&&cpuPlatform<1){$('.quote-form .notice').html('<i class="fa fa-exclamation-triangle c6"></i> '+modules_warn);checks=!0;formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader');return!1}
var amntVals=$('select[name="Projected_Quantities__c"]').val();fldVals.Projected_Quantities__c=amntVals;if(amntVals===''){$('.quote-form .notice').html('<i class="fa fa-exclamation-triangle c6"></i> '+fields_warn);formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader');checks=!0;return!1}}
if(checks===!0){$(notice).html('<i class="fa fa-exclamation-triangle c6"></i> '+fieldMessage+' is Required');formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader');return!1}else{$.post(ajax_object.ajaxurl,{action:'global_ajaxfunc',action_type:actionType,form_data:fldVals,},function(res){if(res.success){setTimeout(function(){formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader')},2000);var firstName=fldVals.first_name;var lastName=fldVals.last_name;var phone=fldVals.phone;var email=fldVals.email;dataLayer.push({'event':'contact_form_submit','customer_id':'','email':email,'phone_number':phone,'address.first_name':firstName,'address.last_name':lastName,});var event_name=$(form).find('#event_name').val();if(event_name){dataLayer.push({'event':event_name})}
var thanksPageUrl=$(form).find('#thanks').val();window.location.href=thanksPageUrl}else{formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader');notice.html('<i class="fa fa-exclamation-triangle c6"></i> '+res.data.msg)}})}})}}
var curr_url=new URL(window.location.href),params=new URLSearchParams(curr_url.search);submitQuoteForm($('.submitQuoteWidgetRequest'),'quoteFormWidget','send_widget_quote',!params.has('noajax'));submitQuoteForm($('.submitQuoteRequest'),'prodQuoteForm','send_quote',!params.has('noajax'));function submitPopupForm(formBtn,formId,actionType){formBtn.click(function(){formBtn.attr('disabled','disabled');formBtn.prop('disabled',!0);formBtn.parent().toggleClass('btnLoader');var form=document.getElementById(formId);var iEle=form.querySelectorAll('input, select, checkbox, textarea');var notice=$(form).find('.notice');var checks=!1;var fldVals={};$.each(iEle,function(index,value){fldType=iEle[index].type;if(fldType=='hidden'||fldType=='text'||fldType=='textarea'||fldType=='tel'){fldVals[iEle[index].id]=iEle[index].value}else if(fldType=='select-one'){fldVals[iEle[index].id]=$('#'+iEle[index].id).val()}else if(fldType=='checkbox'){if($('#'+iEle[index].id).is(':checked')){if(!fldVals[iEle[index].name]){fldVals[iEle[index].name]=''}
fldVals[iEle[index].name]+=$('#'+iEle[index].id).val()+';'}}});fldVals.curl=window.location.href;fldVals.Page_url__c=window.location.href;var reqFields=fldVals.popup_required.split(','),fieldMessage;$(reqFields).each(function(index,value){if(value==='popup_email'){var emailVal=$('#popup_email').val();if(!validateEmail(emailVal)){checks=!0;fieldMessage='A Valid Email';return!1}}
if(value==='popup_first_name'||value==='popup_last_name'||value==='popup_company'||value==='popup_telephone'){var nameVal=$('#popup_first_name').val(),lnameVal=$('#popup_last_name').val(),companyVal=$('#popup_company').val(),phoneVal=$('#popup_telephone').val();if(nameVal===''){checks=!0;fieldMessage='First Name';return!1}
if(lnameVal===''){checks=!0;fieldMessage='Last Name';return!1}
if(companyVal===''){checks=!0;fieldMessage='Company Name';return!1}
if(phoneVal===''){checks=!0;fieldMessage='Phone Number';return!1}}
if(value==='popup_country'){if($('select[name="popup_country"]').val()===''){checks=!0;fieldMessage='Country';return!1}}});if(checks===!0){$(notice).html('<i class="fa fa-exclamation-triangle c6"></i> '+fieldMessage+' is Required');formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader');return!1}else{$.post(ajax_object.ajaxurl,{action:'global_ajaxfunc',action_type:actionType,form_data:fldVals,},function(res){if(res.success){setTimeout(function(){formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader')},2000);var event_name=$(form).find('#event_name').val();if(event_name){dataLayer.push({'event':event_name})}
var thanksPageUrl=$(form).find('#popup_thanks').val();window.location.href=thanksPageUrl}else{formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader');notice.html('<i class="fa fa-exclamation-triangle c6"></i> '+res.data.msg)}})}})}
submitPopupForm($('.submitPopupFomrRequest'),'contactFormPopup','send_popup_request');function submitMultiStepForm(formBtn,formId,actionType){formBtn.click(function(){formBtn.attr('disabled','disabled');formBtn.prop('disabled',!0)
formBtn.parent().toggleClass('btnLoader');var form=document.getElementById(formId);var iEle=form.querySelectorAll('input, select, checkbox, textarea');var notice=$(form).find('.notice');var checks=!1;var fldVals={};$.each(iEle,function(index,value){fldType=iEle[index].type;if(fldType=='hidden'||fldType=='text'||fldType=='textarea'||fldType=='email'){fldVals[iEle[index].id]=iEle[index].value}else if(fldType=='select-one'){fldVals[iEle[index].id]=$('#'+iEle[index].id).val()}else if(fldType=='checkbox'){if($('#'+iEle[index].id).is(':checked')){if(!fldVals[iEle[index].name]){fldVals[iEle[index].name]=''}
fldVals[iEle[index].name]+=$('#'+iEle[index].id).val()+';'}}});fldVals.curl=window.location.href;fldVals.Page_url__c=window.location.href;var reqFields=fldVals.required.split(','),fieldMessage;$(reqFields).each(function(index,value){if(value==='email'){var emailVal=$('#email').val();if(!validateEmail(emailVal)){checks=!0;fieldMessage='A Valid Email';return!1}}
if(value==='first_name'||value==='last_name'||value==='phone'||value==='quote-quantity'){var phoneVal=$('#phone').val(),last_name=$('#last_name').val(),first_name=$('#first_name').val(),quantity=$('#quote-quantity').val();if(phoneVal===''){checks=!0;fieldMessage='Phone Number';return!1}
if(last_name===''){checks=!0;fieldMessage='Last Name';return!1}
if(first_name===''){checks=!0;fieldMessage='First Name';return!1}
if(quantity===''){checks=!0;fieldMessage='Estimated Quantity';return!1}}
if(!fldVals[value]){checks=!0;inputid=value;fieldMessage=$('#'+inputid).attr('placeholder');return!1}});if(formId=='quoteFormStep'){var somVals=[];fldVals['quote-product']=$('#quote-product').val();var amntVals=$('#quote-quantity').val();fldVals['quote-quantity']=amntVals;var cpuPlatform=$('div.paddons-checkbox.required :checkbox:checked').length;if(cpuPlatform<1){fieldMessage="Please select Platform";formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader');checks=!0}
if(amntVals===null){fieldMessage="Please select Estimated Quantities";formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader');checks=!0}}
if(checks===!0){$(notice).html('<i class="fa fa-exclamation-triangle c6"></i> '+fieldMessage+' is Required');formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader');return!1}else{$.post(ajax_object.ajaxurl,{action:'global_ajaxfunc',action_type:actionType,form_data:fldVals,},function(res){if(res.success){setTimeout(function(){formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader')},2000);$('.multi-step').find('.form-inner').empty();$('.multi-step .stepwizard').remove();$('.multi-step').addClass('form-submited').find('.form-inner').append(res.data.response);dataLayer.push({'event':'step_two_submit'})}else{notice.html('<i class="fa fa-exclamation-triangle c6"></i> '+res.data.msg);formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader')}})}})}
submitMultiStepForm($('.submitMultiStepRequest'),'quoteFormStep','send_multi_step_quote');function submitExitPopupForm(formBtn,formId,actionType){formBtn.click(function(){formBtn.attr('disabled','disabled');formBtn.parent().toggleClass('btnLoader');var form=document.getElementById(formId);var iEle=form.querySelectorAll('input, select, checkbox, textarea');var notice=$(form).find('#conFormExitPopup .notice');var checks=!1;var fldVals={};$.each(iEle,function(index,value){fldType=iEle[index].type;if(fldType=='hidden'||fldType=='text'||fldType=='textarea'){fldVals[iEle[index].id]=iEle[index].value}else if(fldType=='select-one'){fldVals[iEle[index].id]=$('#'+iEle[index].id).val()}else if(fldType=='checkbox'){if($('#'+iEle[index].id).is(':checked')){if(!fldVals[iEle[index].name]){fldVals[iEle[index].name]=''}
fldVals[iEle[index].name]+=$('#'+iEle[index].id).val()+';'}}});fldVals.curl=window.location.href;fldVals.Page_url__c=window.location.href;var reqFields=fldVals.required.split(','),fieldMessage;$(reqFields).each(function(index,value){if(value==='email'){var emailVal=$('#conFormExitPopup #email').val();if(!validateEmail(emailVal)){checks=!0;fieldMessage='A Valid Email';return!1}}
if(value==='first_name'||value==='last_name'||value==='company'||value==='phone'||value==='country_exit'){var nameVal=$('#conFormExitPopup #first_name').val(),lnameVal=$('#conFormExitPopup #last_name').val(),companyVal=$('#conFormExitPopup #company').val(),phoneVal=$('#conFormExitPopup #phone').val(),countryVal=$('#conFormExitPopup #country_exit').val();if(nameVal===''){checks=!0;fieldMessage='First Name';return!1}
if(lnameVal===''){checks=!0;fieldMessage='Last Name';return!1}
if(companyVal===''){checks=!0;fieldMessage='Company Name';return!1}
if(phoneVal===''){checks=!0;fieldMessage='Phone Number';return!1}
if(countryVal===''){checks=!0;fieldMessage='Country';return!1}}});if(checks===!0){$(notice).html('<i class="fa fa-exclamation-triangle c6"></i> '+fieldMessage+' is Required');formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader');return!1}else{console.log(actionType);$.post(ajax_object.ajaxurl,{action:'global_ajaxfunc',action_type:actionType,form_data:fldVals,},function(res){formBtn.attr('disabled',!1);formBtn.parent().toggleClass('btnLoader');if(res.success){var event_name=$(form).find('#event_name').val();if(event_name){dataLayer.push({'event':event_name})}
var thanksPageUrl=$(form).find('#thanks').val();window.location.href=thanksPageUrl}else{notice.html('<i class="fa fa-exclamation-triangle c6"></i> '+res.data.msg)}})}})}
submitExitPopupForm($('.submitExitPopupForm'),'conFormExitPopup','send_exitPopup_form')})